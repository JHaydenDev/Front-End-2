{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\josep\\\\Desktop\\\\GitHub\\\\guessWho\\\\Front-End-2\\\\src\\\\components\\\\SignUp.js\";\nimport React from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\n\nclass SignUp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      credentials: {\n        username: \"\",\n        password: \"\"\n      },\n      message: \"\"\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        credentials: { ...this.state.credentials,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.login = (e, credentials) => {\n      e.preventDefault(); // login to retreive the JWT token\n      // add the token to localStorage\n      // route to /protected (whatever landing page)\n\n      axiosWithAuth() // base of '/api/login' inside axiosWithAuth in utils folder\n      .post(\"https://bw-guess-who.herokuapp.com/api/register\", credentials).then(res => {\n        localStorage.setItem(\"token\", res.data.payload);\n        console.log(res, \"this\"); // this.props.history.push(\"/protected\");\n\n        var info = res.data;\n        this.props.setLoggedInUser({\n          id: info.id,\n          level: info.level,\n          points: info.points,\n          username: info.username\n        });\n        this.setState({\n          message: ``\n        });\n      }).catch(err => {\n        console.log(err.response);\n        this.setState({\n          message: `User already exists`\n        });\n      });\n    };\n\n    this.GoToLogin = () => {\n      this.props.setLoginOrRegister(\"login\");\n    };\n  }\n\n  render() {\n    if (this.props.loggedInUser.username === \"\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: e => this.login(e, this.state.credentials),\n        className: \"login-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, this.state.message), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        value: this.state.credentials.username,\n        onChange: this.handleChange,\n        style: {\n          width: \"23em\",\n          height: \"2em\",\n          margin: \".2em 0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: this.state.credentials.password,\n        onChange: this.handleChange,\n        style: {\n          width: \"23em\",\n          height: \"2em\",\n          margin: \".2em 0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"button-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        class: \"form-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"button\", {\n        name: \"register\",\n        type: \"button\",\n        onClick: this.GoToLogin,\n        class: \"form-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, \"Click Here to Login\"))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"welcome-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"welcome-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }, \"You are already logged in as \", this.props.loggedInUser.username, \".\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"welcome-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, \"Click Play Game to start your game!\"));\n    }\n  }\n\n}\n\nexport default SignUp;","map":{"version":3,"sources":["C:/Users/josep/Desktop/GitHub/guessWho/Front-End-2/src/components/SignUp.js"],"names":["React","axiosWithAuth","SignUp","Component","state","credentials","username","password","message","handleChange","e","setState","target","name","value","login","preventDefault","post","then","res","localStorage","setItem","data","payload","console","log","info","props","setLoggedInUser","id","level","points","catch","err","response","GoToLogin","setLoginOrRegister","render","loggedInUser","color","width","height","margin"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\n\r\nclass SignUp extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: \"\",\r\n      password: \"\"\r\n    },\r\n    message: \"\",\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      credentials: {\r\n        ...this.state.credentials,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    });\r\n  };\r\n\r\n  login = (e, credentials) => {\r\n    e.preventDefault();\r\n    // login to retreive the JWT token\r\n    // add the token to localStorage\r\n    // route to /protected (whatever landing page)\r\n    axiosWithAuth()\r\n      // base of '/api/login' inside axiosWithAuth in utils folder\r\n      .post(\"https://bw-guess-who.herokuapp.com/api/register\", credentials)\r\n      .then(res => {\r\n        localStorage.setItem(\"token\", res.data.payload) ; console.log(res, \"this\");\r\n        // this.props.history.push(\"/protected\");\r\n        var info = res.data;\r\n        this.props.setLoggedInUser({\r\n          id: info.id,\r\n          level: info.level,\r\n          points: info.points,\r\n          username: info.username,\r\n        })\r\n        this.setState({message:``});\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response)\r\n        this.setState({message:`User already exists`});\r\n      });\r\n  };\r\n\r\n  GoToLogin = () => {\r\n    this.props.setLoginOrRegister(\"login\");\r\n  }\r\n\r\n  render() {\r\n  if(this.props.loggedInUser.username === \"\") {\r\n    return (\r\n      <div>\r\n        <form onSubmit={e => this.login(e, this.state.credentials)} className=\"login-form\">\r\n        <div style={{color: \"red\"}}>{this.state.message}</div>\r\n          <div className=\"input-div\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Username\"\r\n              value={this.state.credentials.username}\r\n              onChange={this.handleChange}\r\n              style={{width: \"23em\", height: \"2em\", margin: \".2em 0\"}}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              value={this.state.credentials.password}\r\n              onChange={this.handleChange}\r\n              style={{width: \"23em\", height: \"2em\", margin: \".2em 0\"}}\r\n            />\r\n          </div>\r\n          <div className=\"button-div\">\r\n            <button class=\"form-button\">Sign Up</button>\r\n            <button name=\"register\" type=\"button\" onClick={this.GoToLogin} class=\"form-button\">Click Here to Login</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n    } else {\r\n      return (\r\n        <div className=\"welcome-div\">\r\n          <p className=\"welcome-text\">You are already logged in as {this.props.loggedInUser.username}.</p>\r\n          <p className=\"welcome-text\">Click Play Game to start your game!</p>\r\n        </div>\r\n      )\r\n      \r\n    }\r\n  }\r\n}\r\n\r\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}