{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\josep\\\\Desktop\\\\GitHub\\\\guessWho\\\\Front-End-2\\\\src\\\\components\\\\LoginPlayerForm.js\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nconst LoginDiv = styled.div`\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\n    font-family: 'Roboto', sans-serif;  \n    font-size: 1rem;\n    color: red;\n`;\nconst LoginButton = styled.button`\n    width: 10em;\n    height: 2em;\n    font-size: 1.1rem;\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\n    font-family: 'Patua One', cursive;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: white;\n    border: 1px solid black;\n    border-radius: .2em;\n    background-color: #1DA1F2;\n    color: white;\n`;\n\nconst validate = ({\n  username,\n  password\n}) => {\n  const errors = {}; // validate username\n\n  if (!username) {\n    errors.username = \"Please enter your username.\";\n  } else if (username.length < 3) {\n    errors.username = \"You need a longer username\";\n  } // validate password\n\n\n  if (!password) {\n    errors.password = \"Please enter your password\";\n  } else if (password.length < 3) {\n    errors.password = \"Please enter a longer password\";\n  }\n\n  return errors;\n};\n\nconst LoginPlayersForm = props => {\n  const [message, setMessage] = useState('');\n\n  const handleSubmit = (values, tools) => {\n    //axios.post('https://arcane-headland-50299.herokuapp.com/login', values)\n    axios.post('https://bw-guess-who.herokuapp.com/api/login', values).then(response => {\n      console.log(response);\n      var returnedUser = response.data.user;\n\n      if (props.playerList.some(player => player.name === returnedUser.username)) {\n        setMessage(`${returnedUser.username} is already logged in.`);\n      } else {\n        setMessage(\"\");\n        tools.resetForm();\n        props.addPlayer({\n          id: props.player.id,\n          name: returnedUser.username,\n          points: 0\n        });\n        props.setPlayer({\n          id: props.player.id + 1,\n          name: \"\",\n          points: 0\n        });\n        props.setAdditionalUsers([...props.additionalUsers, returnedUser]);\n      }\n    }).catch(error => {\n      setMessage(\"Incorrect username / password\");\n    }).finally(() => {\n      tools.setSubmitting(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Formik, {\n    onSubmit: handleSubmit,\n    validate: validate,\n    initialValues: {\n      username: \"\",\n      password: \"\"\n    },\n    render: props => {\n      return /*#__PURE__*/React.createElement(LoginDiv, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }, message), /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Field, {\n        name: \"username\",\n        type: \"text\",\n        placeholder: \"Username\",\n        style: {\n          width: \"13em\",\n          margin: \".5em\",\n          height: \"1.5em\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 137\n        }\n      }), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"username\",\n        component: \"div\",\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Field, {\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        style: {\n          width: \"13em\",\n          margin: \".5em\",\n          height: \"1.5em\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 142\n        }\n      }), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"password\",\n        component: \"div\",\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(LoginButton, {\n        type: \"submit\",\n        disabled: props.isSubmitting,\n        style: {\n          margin: \"0 0 .5em 0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, props.isSubmitting ? \"Authenticating\" : \"Add Player\")));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default LoginPlayersForm;","map":{"version":3,"sources":["C:/Users/josep/Desktop/GitHub/guessWho/Front-End-2/src/components/LoginPlayerForm.js"],"names":["React","useState","styled","axios","Formik","Form","Field","ErrorMessage","LoginDiv","div","LoginButton","button","validate","username","password","errors","length","LoginPlayersForm","props","message","setMessage","handleSubmit","values","tools","post","then","response","console","log","returnedUser","data","user","playerList","some","player","name","resetForm","addPlayer","id","points","setPlayer","setAdditionalUsers","additionalUsers","catch","error","finally","setSubmitting","width","margin","height","color","isSubmitting"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\n\r\nconst LoginDiv = styled.div`\r\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\r\n    font-family: 'Roboto', sans-serif;  \r\n    font-size: 1rem;\r\n    color: red;\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n    width: 10em;\r\n    height: 2em;\r\n    font-size: 1.1rem;\r\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\r\n    font-family: 'Patua One', cursive;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    background-color: white;\r\n    border: 1px solid black;\r\n    border-radius: .2em;\r\n    background-color: #1DA1F2;\r\n    color: white;\r\n`;\r\n\r\nconst validate = ({username, password}) => {\r\n    const errors = {};\r\n    // validate username\r\n    if (!username) {\r\n        errors.username = \"Please enter your username.\";\r\n    } else if (username.length < 3) {\r\n        errors.username = \"You need a longer username\";\r\n    }\r\n    // validate password\r\n    if (!password) {\r\n        errors.password = \"Please enter your password\";\r\n    } else if (password.length < 3) {\r\n        errors.password = \"Please enter a longer password\"\r\n    }\r\n\r\n    return errors;\r\n}\r\n\r\nconst LoginPlayersForm = props => {\r\n    const [message, setMessage] = useState('');\r\n    const handleSubmit = (values, tools) => {\r\n        //axios.post('https://arcane-headland-50299.herokuapp.com/login', values)\r\n        axios.post('https://bw-guess-who.herokuapp.com/api/login', values)\r\n        .then(response => {\r\n            console.log(response);\r\n            var returnedUser = response.data.user;\r\n\r\n            if (props.playerList.some(player => player.name === returnedUser.username)) {\r\n            setMessage(`${returnedUser.username} is already logged in.`);\r\n            } else {\r\n            setMessage(\"\");\r\n            tools.resetForm();\r\n            props.addPlayer({ id: (props.player.id), name: returnedUser.username, points: 0 });\r\n            props.setPlayer({ id: (props.player.id+1) ,name: \"\", points: 0 });\r\n            props.setAdditionalUsers([...props.additionalUsers, returnedUser]);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            setMessage(\"Incorrect username / password\");\r\n        })\r\n        .finally(() => {\r\n            tools.setSubmitting(false);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Formik \r\n        onSubmit={handleSubmit}\r\n        validate={validate}\r\n        initialValues={{username: \"\", password: \"\"}}\r\n        render={props => {\r\n            return(\r\n                <LoginDiv>\r\n                <div>{message}</div>\r\n                <Form>\r\n                    <Field name=\"username\" type=\"text\" placeholder=\"Username\" style={{width: \"13em\", margin: \".5em\", height: \"1.5em\"}}/><br />\r\n                    <ErrorMessage name=\"username\" component=\"div\" style={{color: \"red\"}}/>\r\n                    <Field name=\"password\" type=\"password\" placeholder=\"Password\" style={{width: \"13em\", margin: \".5em\", height: \"1.5em\"}} /><br />\r\n                    <ErrorMessage name=\"password\" component=\"div\" style={{color: \"red\"}}/>\r\n\r\n                    <LoginButton type=\"submit\" disabled={props.isSubmitting} style={{margin: \"0 0 .5em 0\"}}>{props.isSubmitting ? \"Authenticating\" : \"Add Player\"}</LoginButton>\r\n                </Form>\r\n                </LoginDiv>\r\n            )\r\n\r\n        }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default LoginPlayersForm;"]},"metadata":{},"sourceType":"module"}