{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\josep\\\\Desktop\\\\GitHub\\\\guessWho\\\\Front-End-2\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport SignUp from \"./SignUp\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      credentials: {\n        username: \"\",\n        password: \"\"\n      },\n      message: \"\"\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        credentials: { ...this.state.credentials,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.login = (e, credentials) => {\n      e.preventDefault(); // login to retreive the JWT token\n      // add the token to localStorage\n      // route to /protected (whatever landing page)\n\n      axiosWithAuth() // base of '/api/login' inside axiosWithAuth in utils folder\n      .post(\"https://bw-guess-who.herokuapp.com/api/login\", credentials).then(res => {\n        // localStorage.setItem(\"token\", res.data.payload) ; console.log(res, \"this\");\n        // this.props.history.push(\"/protected\");\n        var info = res.data.user;\n        this.props.setLoggedInUser({\n          id: info.id,\n          level: info.level,\n          points: info.points,\n          username: info.username\n        });\n        this.setState({\n          message: ``\n        });\n      }).catch(err => {\n        console.log(err.response);\n        this.setState({\n          message: `${err.response.data.message}`\n        });\n      });\n    };\n\n    this.GoToRegister = () => {\n      this.props.setLoginOrRegister(\"register\");\n    };\n  }\n\n  render() {\n    if (this.props.loggedInUser.username === \"\" && this.props.loginOrRegister === \"login\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: e => this.login(e, this.state.credentials),\n        className: \"login-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, this.state.message), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        value: this.state.credentials.username,\n        onChange: this.handleChange,\n        style: {\n          width: \"23em\",\n          height: \"2em\",\n          margin: \".2em 0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: this.state.credentials.password,\n        onChange: this.handleChange,\n        style: {\n          width: \"23em\",\n          height: \"2em\",\n          margin: \".2em 0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"button-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        class: \"form-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      }, \"Log In\"), /*#__PURE__*/React.createElement(\"button\", {\n        name: \"register\",\n        type: \"button\",\n        onClick: this.GoToRegister,\n        class: \"form-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }\n      }, \"Click Here to Sign Up\"))));\n    } else if (this.props.loggedInUser.username === \"\" && this.props.loginOrRegister === \"register\") {\n      return /*#__PURE__*/React.createElement(SignUp, {\n        loggedInUser: this.props.loggedInUser,\n        setLoggedInUser: this.props.setLoggedInUser,\n        loginOrRegister: this.props.loginOrRegister,\n        setLoginOrRegister: this.props.setLoginOrRegister,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"welcome-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"welcome-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, \"Welcome, \", this.props.loggedInUser.username, \"! Thanks for logging in!\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"welcome-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }, \"Click Play Game to start your game!\"));\n    }\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/josep/Desktop/GitHub/guessWho/Front-End-2/src/components/Login.js"],"names":["React","useState","axiosWithAuth","SignUp","Login","Component","state","credentials","username","password","message","handleChange","e","setState","target","name","value","login","preventDefault","post","then","res","info","data","user","props","setLoggedInUser","id","level","points","catch","err","console","log","response","GoToRegister","setLoginOrRegister","render","loggedInUser","loginOrRegister","color","width","height","margin"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\nimport SignUp from \"./SignUp\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: \"\",\r\n      password: \"\"\r\n    },\r\n    message: \"\",\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      credentials: {\r\n        ...this.state.credentials,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    });\r\n  };\r\n\r\n  login = (e, credentials) => {\r\n    e.preventDefault();\r\n    // login to retreive the JWT token\r\n    // add the token to localStorage\r\n    // route to /protected (whatever landing page)\r\n    axiosWithAuth()\r\n      // base of '/api/login' inside axiosWithAuth in utils folder\r\n      .post(\"https://bw-guess-who.herokuapp.com/api/login\", credentials)\r\n      .then(res => {\r\n        // localStorage.setItem(\"token\", res.data.payload) ; console.log(res, \"this\");\r\n        // this.props.history.push(\"/protected\");\r\n        var info = res.data.user;\r\n        this.props.setLoggedInUser({\r\n            id: info.id,\r\n            level: info.level,\r\n            points: info.points,\r\n            username: info.username,\r\n        })\r\n        this.setState({message:``});\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response);\r\n        this.setState({message:`${err.response.data.message}`});\r\n      });\r\n  };\r\n\r\n  GoToRegister = () => {\r\n    this.props.setLoginOrRegister(\"register\");\r\n  }\r\n\r\n\r\n  render() {\r\n  if(this.props.loggedInUser.username === \"\" && this.props.loginOrRegister === \"login\") {\r\n      return (\r\n        <div>\r\n          <form onSubmit={e => this.login(e, this.state.credentials)} className=\"login-form\">\r\n            <div style={{color: \"red\"}}>{this.state.message}</div>\r\n            <div className=\"input-div\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                placeholder=\"Username\"\r\n                value={this.state.credentials.username}\r\n                onChange={this.handleChange}\r\n                style={{width: \"23em\", height: \"2em\", margin: \".2em 0\"}}\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                value={this.state.credentials.password}\r\n                onChange={this.handleChange}\r\n                style={{width: \"23em\", height: \"2em\", margin: \".2em 0\"}}\r\n              />\r\n            </div>\r\n            <div className=\"button-div\">\r\n              <button class=\"form-button\">Log In</button>\r\n              <button name=\"register\" type=\"button\" onClick={this.GoToRegister} class=\"form-button\">Click Here to Sign Up</button>\r\n            </div>\r\n            \r\n          </form>\r\n        </div>\r\n      );\r\n    } else if (this.props.loggedInUser.username === \"\" && this.props.loginOrRegister === \"register\") {\r\n      return (\r\n        <SignUp loggedInUser={this.props.loggedInUser} setLoggedInUser={this.props.setLoggedInUser} loginOrRegister={this.props.loginOrRegister} setLoginOrRegister={this.props.setLoginOrRegister}/>\r\n      )\r\n\r\n    } else {\r\n      return (\r\n        <div className=\"welcome-div\">\r\n          <p className=\"welcome-text\">Welcome, {this.props.loggedInUser.username}! Thanks for logging in!</p>\r\n          <p className=\"welcome-text\">Click Play Game to start your game!</p>\r\n        </div>\r\n      )\r\n      \r\n    }\r\n  }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}