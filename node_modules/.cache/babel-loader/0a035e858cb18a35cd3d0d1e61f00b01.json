{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\josep\\\\Desktop\\\\GitHub\\\\guessWho\\\\Front-End-2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\josep\\\\Desktop\\\\GitHub\\\\guessWho\\\\Front-End-2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\josep\\\\Desktop\\\\GitHub\\\\guessWho\\\\Front-End-2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    width: 10em;\\n    height: 2em;\\n    font-size: 1.1rem;\\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\\n    font-family: 'Patua One', cursive;\\n    margin-left: auto;\\n    margin-right: auto;\\n    background-color: white;\\n    border: 1px solid black;\\n    border-radius: .2em;\\n    background-color: #1DA1F2;\\n    color: white;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\\n    font-family: 'Roboto', sans-serif;  \\n    font-size: 1rem;\\n    color: red;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from\"react\";import styled from\"styled-components\";import axios from\"axios\";import{Formik,Form,Field,ErrorMessage}from\"formik\";var LoginDiv=styled.div(_templateObject());var LoginButton=styled.button(_templateObject2());var validate=function validate(_ref){var username=_ref.username,password=_ref.password;var errors={};// validate username\nif(!username){errors.username=\"Please enter your username.\";}else if(username.length<3){errors.username=\"You need a longer username\";}// validate password\nif(!password){errors.password=\"Please enter your password\";}else if(password.length<3){errors.password=\"Please enter a longer password\";}return errors;};var LoginPlayersForm=function LoginPlayersForm(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var handleSubmit=function handleSubmit(values,tools){//axios.post('https://arcane-headland-50299.herokuapp.com/login', values)\naxios.post('https://bw-guess-who.herokuapp.com/api/login',values).then(function(response){console.log(response);var returnedUser=response.data.user;if(props.playerList.some(function(player){return player.name===returnedUser.username;})){setMessage(\"\".concat(returnedUser.username,\" is already logged in.\"));}else{setMessage(\"\");tools.resetForm();props.addPlayer({id:props.player.id,name:returnedUser.username,points:0});props.setPlayer({id:props.player.id+1,name:\"\",points:0});props.setAdditionalUsers([].concat(_toConsumableArray(props.additionalUsers),[returnedUser]));}}).catch(function(error){setMessage(\"Incorrect username / password\");}).finally(function(){tools.setSubmitting(false);});};return/*#__PURE__*/React.createElement(Formik,{onSubmit:handleSubmit,validate:validate,initialValues:{username:\"\",password:\"\"},render:function render(props){return/*#__PURE__*/React.createElement(LoginDiv,null,/*#__PURE__*/React.createElement(\"div\",null,message),/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Field,{name:\"username\",type:\"text\",placeholder:\"Username\",style:{width:\"13em\",margin:\".5em\",height:\"1.5em\"}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"username\",component:\"div\",style:{color:\"red\"}}),/*#__PURE__*/React.createElement(Field,{name:\"password\",type:\"password\",placeholder:\"Password\",style:{width:\"13em\",margin:\".5em\",height:\"1.5em\"}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"password\",component:\"div\",style:{color:\"red\"}}),/*#__PURE__*/React.createElement(LoginButton,{type:\"submit\",disabled:props.isSubmitting,style:{margin:\"0 0 .5em 0\"}},props.isSubmitting?\"Authenticating\":\"Add Player\")));}});};export default LoginPlayersForm;","map":{"version":3,"sources":["C:/Users/josep/Desktop/GitHub/guessWho/Front-End-2/src/components/LoginPlayerForm.js"],"names":["React","useState","styled","axios","Formik","Form","Field","ErrorMessage","LoginDiv","div","LoginButton","button","validate","username","password","errors","length","LoginPlayersForm","props","message","setMessage","handleSubmit","values","tools","post","then","response","console","log","returnedUser","data","user","playerList","some","player","name","resetForm","addPlayer","id","points","setPlayer","setAdditionalUsers","additionalUsers","catch","error","finally","setSubmitting","width","margin","height","color","isSubmitting"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\n\r\nconst LoginDiv = styled.div`\r\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\r\n    font-family: 'Roboto', sans-serif;  \r\n    font-size: 1rem;\r\n    color: red;\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n    width: 10em;\r\n    height: 2em;\r\n    font-size: 1.1rem;\r\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\r\n    font-family: 'Patua One', cursive;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    background-color: white;\r\n    border: 1px solid black;\r\n    border-radius: .2em;\r\n    background-color: #1DA1F2;\r\n    color: white;\r\n`;\r\n\r\nconst validate = ({username, password}) => {\r\n    const errors = {};\r\n    // validate username\r\n    if (!username) {\r\n        errors.username = \"Please enter your username.\";\r\n    } else if (username.length < 3) {\r\n        errors.username = \"You need a longer username\";\r\n    }\r\n    // validate password\r\n    if (!password) {\r\n        errors.password = \"Please enter your password\";\r\n    } else if (password.length < 3) {\r\n        errors.password = \"Please enter a longer password\"\r\n    }\r\n\r\n    return errors;\r\n}\r\n\r\nconst LoginPlayersForm = props => {\r\n    const [message, setMessage] = useState('');\r\n    const handleSubmit = (values, tools) => {\r\n        //axios.post('https://arcane-headland-50299.herokuapp.com/login', values)\r\n        axios.post('https://bw-guess-who.herokuapp.com/api/login', values)\r\n        .then(response => {\r\n            console.log(response);\r\n            var returnedUser = response.data.user;\r\n\r\n            if (props.playerList.some(player => player.name === returnedUser.username)) {\r\n            setMessage(`${returnedUser.username} is already logged in.`);\r\n            } else {\r\n            setMessage(\"\");\r\n            tools.resetForm();\r\n            props.addPlayer({ id: (props.player.id), name: returnedUser.username, points: 0 });\r\n            props.setPlayer({ id: (props.player.id+1) ,name: \"\", points: 0 });\r\n            props.setAdditionalUsers([...props.additionalUsers, returnedUser]);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            setMessage(\"Incorrect username / password\");\r\n        })\r\n        .finally(() => {\r\n            tools.setSubmitting(false);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Formik \r\n        onSubmit={handleSubmit}\r\n        validate={validate}\r\n        initialValues={{username: \"\", password: \"\"}}\r\n        render={props => {\r\n            return(\r\n                <LoginDiv>\r\n                <div>{message}</div>\r\n                <Form>\r\n                    <Field name=\"username\" type=\"text\" placeholder=\"Username\" style={{width: \"13em\", margin: \".5em\", height: \"1.5em\"}}/><br />\r\n                    <ErrorMessage name=\"username\" component=\"div\" style={{color: \"red\"}}/>\r\n                    <Field name=\"password\" type=\"password\" placeholder=\"Password\" style={{width: \"13em\", margin: \".5em\", height: \"1.5em\"}} /><br />\r\n                    <ErrorMessage name=\"password\" component=\"div\" style={{color: \"red\"}}/>\r\n\r\n                    <LoginButton type=\"submit\" disabled={props.isSubmitting} style={{margin: \"0 0 .5em 0\"}}>{props.isSubmitting ? \"Authenticating\" : \"Add Player\"}</LoginButton>\r\n                </Form>\r\n                </LoginDiv>\r\n            )\r\n\r\n        }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default LoginPlayersForm;"]},"metadata":{},"sourceType":"module"}