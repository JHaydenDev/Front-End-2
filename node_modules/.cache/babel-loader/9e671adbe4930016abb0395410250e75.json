{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\josep\\\\Desktop\\\\GitHub\\\\guessWho\\\\Front-End-2\\\\src\\\\components\\\\DeletePlayerForm.js\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nconst DeleteDiv = styled.div`\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\n    font-family: 'Roboto', sans-serif;  \n    font-size: 1rem;\n    color: red;\n`;\nconst DeleteButton = styled.button`\n    width: 10em;\n    height: 2em;\n    font-size: 1.1rem;\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\n    font-family: 'Patua One', cursive;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: white;\n    border: 1px solid black;\n    border-radius: .2em;\n    background-color: #1DA1F2;\n    color: white;\n`;\n\nconst DeletePlayerForm = props => {\n  const [message, setMessage] = useState('');\n\n  const handleSubmit = (values, tools) => {\n    axios.delete(`https://bw-guess-who.herokuapp.com/api/users/${props.loggedInUser.id}`).then(response => {\n      console.log(response);\n      props.setLoggedInUser({\n        id: 0,\n        level: \"\",\n        points: 0,\n        username: \"\"\n      });\n    }).catch(error => {\n      setMessage(\"Incorrect username / password\");\n      console.log(error);\n    }).finally(() => {\n      tools.setSubmitting(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Formik, {\n    onSubmit: handleSubmit,\n    render: props => {\n      return /*#__PURE__*/React.createElement(DeleteDiv, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, message), /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(DeleteButton, {\n        type: \"submit\",\n        style: {\n          margin: \"0 0 .5em 0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, \"Delete Account\")));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default DeletePlayerForm;","map":{"version":3,"sources":["C:/Users/josep/Desktop/GitHub/guessWho/Front-End-2/src/components/DeletePlayerForm.js"],"names":["React","useState","styled","axios","Formik","Form","Field","ErrorMessage","DeleteDiv","div","DeleteButton","button","DeletePlayerForm","props","message","setMessage","handleSubmit","values","tools","delete","loggedInUser","id","then","response","console","log","setLoggedInUser","level","points","username","catch","error","finally","setSubmitting","margin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,EAA8BC,YAA9B,QAAkD,QAAlD;AAEA,MAAMC,SAAS,GAAGN,MAAM,CAACO,GAAI;;;;;CAA7B;AAOA,MAAMC,YAAY,GAAGR,MAAM,CAACS,MAAO;;;;;;;;;;;;;CAAnC;;AAeA,MAAMC,gBAAgB,GAAGC,KAAK,IAAI;AAC9B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,EAAD,CAAtC;;AACA,QAAMe,YAAY,GAAG,CAACC,MAAD,EAASC,KAAT,KAAmB;AACpCf,IAAAA,KAAK,CAACgB,MAAN,CAAc,gDAA+CN,KAAK,CAACO,YAAN,CAAmBC,EAAG,EAAnF,EACCC,IADD,CACMC,QAAQ,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAV,MAAAA,KAAK,CAACa,eAAN,CAAsB;AAClBL,QAAAA,EAAE,EAAE,CADc;AAElBM,QAAAA,KAAK,EAAE,EAFW;AAGlBC,QAAAA,MAAM,EAAE,CAHU;AAIlBC,QAAAA,QAAQ,EAAE;AAJQ,OAAtB;AAMH,KATD,EAUCC,KAVD,CAUOC,KAAK,IAAI;AACZhB,MAAAA,UAAU,CAAC,+BAAD,CAAV;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACH,KAbD,EAcCC,OAdD,CAcS,MAAM;AACXd,MAAAA,KAAK,CAACe,aAAN,CAAoB,KAApB;AACH,KAhBD;AAiBH,GAlBD;;AAoBA,sBACI,oBAAC,MAAD;AACA,IAAA,QAAQ,EAAEjB,YADV;AAEA,IAAA,MAAM,EAAEH,KAAK,IAAI;AACb,0BACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMC,OAAN,CADA,eAEA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,YAAD;AAAc,QAAA,IAAI,EAAC,QAAnB;AAA4B,QAAA,KAAK,EAAE;AAACoB,UAAAA,MAAM,EAAE;AAAT,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,CAFA,CADJ;AASH,KAZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAgBH,CAtCD;;AAwCA,eAAetB,gBAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\n\r\nconst DeleteDiv = styled.div`\r\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\r\n    font-family: 'Roboto', sans-serif;  \r\n    font-size: 1rem;\r\n    color: red;\r\n`;\r\n\r\nconst DeleteButton = styled.button`\r\n    width: 10em;\r\n    height: 2em;\r\n    font-size: 1.1rem;\r\n    @import url('https://fonts.googleapis.com/css?family=Patua+One|Roboto&display=swap');\r\n    font-family: 'Patua One', cursive;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    background-color: white;\r\n    border: 1px solid black;\r\n    border-radius: .2em;\r\n    background-color: #1DA1F2;\r\n    color: white;\r\n`;\r\n\r\nconst DeletePlayerForm = props => {\r\n    const [message, setMessage] = useState('');\r\n    const handleSubmit = (values, tools) => {\r\n        axios.delete(`https://bw-guess-who.herokuapp.com/api/users/${props.loggedInUser.id}`)\r\n        .then(response => {\r\n            console.log(response);\r\n            props.setLoggedInUser({\r\n                id: 0,\r\n                level: \"\",\r\n                points: 0,\r\n                username: \"\",\r\n            });\r\n        })\r\n        .catch(error => {\r\n            setMessage(\"Incorrect username / password\");\r\n            console.log(error);\r\n        })\r\n        .finally(() => {\r\n            tools.setSubmitting(false);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Formik \r\n        onSubmit={handleSubmit}\r\n        render={props => {\r\n            return(\r\n                <DeleteDiv>\r\n                <div>{message}</div>\r\n                <Form>\r\n                    <DeleteButton type=\"submit\" style={{margin: \"0 0 .5em 0\"}}>Delete Account</DeleteButton>\r\n                </Form>\r\n                </DeleteDiv>\r\n            )\r\n\r\n        }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default DeletePlayerForm;"]},"metadata":{},"sourceType":"module"}